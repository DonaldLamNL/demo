{"ast":null,"code":"// Import Components\nimport Introduction from '../components/homeSections/Introduction.vue';\nimport About from '../components/homeSections/About.vue';\nimport Education from '../components/homeSections/Education.vue';\nimport Skills from '../components/homeSections/Skills.vue';\nimport Timetable from '../components/homeSections/Timetable.vue'; // Import PubSub\n\nimport PubSub from 'pubsub-js';\nexport default {\n  name: 'Home',\n  components: {\n    Introduction,\n    About,\n    Education,\n    Skills,\n    Timetable\n  },\n  methods: {\n    // Detect current section when scrolling\n    onScroll() {\n      // For each section\n      this.sections.forEach((item, index) => {\n        let s = document.getElementById(item.id); // Check whether current position below the section\n\n        if (window.scrollY >= s.offsetTop - 50) {\n          // Set the index of active section through PubSub\n          PubSub.publish('activeSection', index);\n        }\n      });\n    }\n\n  },\n\n  mounted() {\n    // Get the home sections through PubSub\n    this.pid = PubSub.subscribe('pages', (_, pages) => {\n      this.sections = pages[0].sections;\n    }); // Listen scroll event\n\n    window.addEventListener('scroll', this.onScroll);\n  },\n\n  beforeDestroy() {\n    PubSub.unsubscribe(this.pid); // Unsubscribe pid\n  }\n\n};","map":null,"metadata":{},"sourceType":"module"}