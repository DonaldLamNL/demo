{"ast":null,"code":"import HomeImage from '../components/home/HomeImage.vue';\nimport AboutMe from '../components/home/AboutMe.vue';\nimport Timetable from '../components/home/Timetable.vue';\nimport PubSub from 'pubsub-js';\nexport default {\n  name: 'Home',\n  components: {\n    HomeImage,\n    AboutMe,\n    Timetable\n  },\n\n  data() {\n    return {\n      sections: []\n    };\n  },\n\n  methods: {\n    onScroll(e) {\n      console.log(e.target);\n      this.sections.forEach((item, index) => {\n        let s = document.getElementById(item.id);\n        let judge = e.target.scrollTop >= s.offsetTop; // console.log(e.target.scrollTop, '  ',s.offsetTop);\n\n        if (judge) {\n          PubSub.publish('activeSection', index);\n        }\n      });\n    }\n\n  },\n\n  mounted() {\n    this.pid = PubSub.subscribe('pages', (_, pages) => {\n      this.sections = pages[0].sections;\n    }); // window.addEventListener('scroll', this.onScroll)\n  }\n\n};","map":{"version":3,"mappings":"AAYA;AACA;AACA;AACA;AAEA;EACAA,YADA;EAEAC;IAAAC;IAAAC;IAAAC;EAAA,CAFA;;EAGAC;IACA;MACAC;IADA;EAGA,CAPA;;EAQAC;IACAC;MACAC;MACA;QACA;QACA,8CAFA,CAGA;;QACA;UACAC;QACA;MACA,CAPA;IAQA;;EAXA,CARA;;EAqBAC;IACA;MACA;IACA,CAFA,EADA,CAIA;EACA;;AA1BA","names":["name","components","HomeImage","AboutMe","Timetable","data","sections","methods","onScroll","console","PubSub","mounted"],"sourceRoot":"src/pages","sources":["Home.vue"],"sourcesContent":["<template>\n    <div id=\"home\">\n        <div class=\"test\">\n        </div>\n            <HomeImage />\n            <AboutMe />\n            <Timetable />\n        <!-- <router-link :to=\"\"></router-link> -->\n    </div>\n</template>\n\n<script>\nimport HomeImage from '../components/home/HomeImage.vue'\nimport AboutMe from '../components/home/AboutMe.vue'\nimport Timetable from '../components/home/Timetable.vue'\nimport PubSub from 'pubsub-js'\n\nexport default {\n    name: 'Home',\n    components: {HomeImage, AboutMe, Timetable},\n    data() {\n        return {\n            sections: []\n        }\n    },\n    methods: {\n        onScroll(e){\n            console.log(e.target);\n            this.sections.forEach((item, index) => {\n                let s = document.getElementById(item.id)\n                let judge = e.target.scrollTop >= s.offsetTop\n                // console.log(e.target.scrollTop, '  ',s.offsetTop);\n                if(judge){\n                    PubSub.publish('activeSection', index)\n                }\n            });\n        }\n    },\n    mounted() {\n        this.pid = PubSub.subscribe('pages', (_, pages) => {\n            this.sections = pages[0].sections\n        })\n        // window.addEventListener('scroll', this.onScroll)\n    },\n}\n</script>\n\n<style>\n.test{\n    height: 100px;\n    width: 100%;\n    background-color: #bfa;\n}\n</style>"]},"metadata":{},"sourceType":"module"}